目标是：**一眼同一套体系、打印/投影都清晰、审稿人扫读成本最低**。

---

# 统一图表风格规范（v1.0）

## 0. 总原则（必须统一的 5 条）

1. **语义先于美观**：颜色/线型/标记只表达一种固定含义（例如“推荐方案”“基线”“不确定性带”“淘汰/风险”）。
2. **打印友好**：灰度打印仍能区分（用线型/标记补偿，避免只靠颜色）。
3. **少即是多**：单图信息密度可控，超过 4 条曲线尽量改 small multiples。
4. **caption 与图严格一致**：图注提到的“圈选/阴影/红叉/高亮”必须在图上看得见，否则删掉图注描述。
5. **全篇一致**：同类图一套模板（热力图模板、折线模板、散点模板……），只换数据不换风格。

---

## 1) 版面尺寸与比例（让图“嵌进论文”而不是“贴上去”）

以单栏论文为例（你目前就是单栏）：

* **标准宽度**：`0.92–0.98 \linewidth`（尽量吃满正文宽度，避免左右空太多）
* **双图并排**：每张 `0.48 \linewidth`，两图间距 0.04–0.06 \linewidth
* **推荐长宽比**：

  * 折线/散点：宽:高 ≈ 1.6:1 或 1.8:1（不要太扁）
  * 热力图：根据矩阵维度，宁可稍高也别压扁
* **同一章节的图高度尽量一致**：例如第 5–6 节连续出现的图（Fig.6–8）高度统一，会显得非常专业。

---

## 2) 字体系统（最容易“显贵”的统一项）

**目标：图表字体与正文一致**（你正文偏衬线学术风；部分图目前偏 Matplotlib 默认无衬线感）。

### 2.1 字体选择（任选其一，但全篇统一）

* 方案 A（推荐，最像论文）：**Times / STIX / Latin Modern** 系列衬线
* 方案 B（更像咨询报告）：**Source Sans / Helvetica / Arial** 无衬线

> 建议你用方案 A：和正文匹配，更“顶会论文感”。

### 2.2 字号层级（以正文 10–11pt 为假设）

* 图内标题（如果保留）：**10–11pt**（或干脆取消图内标题，把信息交给 caption）
* 坐标轴标题：**9–10pt**
* 刻度文字 / 图例：**8.5–9pt**（最小不要低于 8pt）
* 注释文字（标注点/区域）：**8–9pt**
* 数学符号：与正文 math 风格一致（别出现“图里像 Word，正文像 LaTeX”的割裂）

---

## 3) 颜色系统（建立“语义色板”，否则全篇像拼贴）

你现在整体偏蓝色体系，这是好事。建议固定一个**主色 + 强调色 + 风险色 + 中性灰**系统。

### 3.1 推荐语义色板（色盲友好，给出可直接用的 hex）

* **主色（Primary，常规数据/主线）**：蓝 `#0072B2`
* **深主色（强调主线/关键点）**：深蓝 `#0B3C5D`
* **强调色（Recommended/DAWS/重点方案）**：橙 `#E69F00`
* **风险/淘汰/异常（Warning）**：朱红 `#D55E00` 或 `#D62728`（二选一，全篇只用一个）
* **中性灰（Baseline/对照/辅助线）**：灰 `#7A7A7A`
* **浅灰（网格/置信带填充/背景区）**：浅灰 `#D9D9D9`

### 3.2 语义绑定规则（写进规范，任何人画图都不跑偏）

* 蓝：真实/主结果/默认模型输出
* 橙：推荐机制（DAWS）、最终建议点、最优/平衡区
* 灰：基线（如 α=0.6 静态方案）、随机基线、参考线
* 红：只用于“警示型信息”（淘汰、mismatch、异常点、违反约束等）
* 不确定性：**不用新颜色**，用主色的透明填充或灰透明带

---

## 4) 线条、点、柱、填充（“印刷可读性”硬指标）

### 4.1 折线/曲线

* 主线宽：**1.6–2.0 pt**
* 次线宽：**1.2–1.5 pt**
* 基线/参考线：**1.0–1.2 pt**，建议虚线
* 标记点：大小 **4–5 pt**；只有在“点有意义”（离散周、关键 week）时才加

### 4.2 置信区间/HDI/阴影带（你论文里很多）

* 推荐做法：**同色系透明填充**（alpha 0.15–0.25）
* 边界线：可选，用虚线或更细线（1.0 pt）
* **禁止**：用很深的填充把网格/曲线盖住

### 4.3 柱状/条形

* 边框：0.6–0.8 pt（可选）
* 同组柱：最多 3 色（超过就改分面或堆叠策略）

### 4.4 热力图

* 顺序色带（量大小）：推荐 `cividis` 或单色渐变（蓝系）
* 发散色带（正负影响，如 SHAP）：以 0 为中心对称，控制饱和度（避免红蓝刺眼）
* **必须配色条（colorbar）**：标注单位/含义，刻度数量 4–6 个即可

---

## 5) 坐标轴、网格、边框（让图“干净但不空”）

### 5.1 坐标轴与边框

* 只保留左、下轴（top/right spine 去掉）——除非是需要闭合框的矩阵图
* 轴线宽：**0.8–1.0 pt**

### 5.2 网格

* 只开**主网格**（major grid），线宽 0.4–0.6 pt，颜色浅灰，透明度 0.25–0.35
* **不要开次网格**（minor），除非图非常稀疏且需要读数

### 5.3 刻度与范围

* 刻度朝外（out），刻度长度 3–4
* 数值范围尽量“讲道理”：

  * 比例/概率：默认 [0,1]，除非有充分理由
  * 对比图：尽量共享 y 轴范围，减少误导
* 小数位：统一（例如 2 位），不要一张图 0.4 另一张图 0.4000

---

## 6) 图例、标题、注释（避免“图例像补丁”）

### 6.1 图例（Legend）

* 位置：优先放在**图内空白处**（右上/左上），避免挤压绘图区
* 去边框（frame off）或细边框（0.6 pt）
* 图例条目命名：**短、名词化、统一大小写**（例如 “Baseline α=0.6”“DAWS α(t)”）

### 6.2 图内标题（Title）

* 建议**尽量不用图内大标题**（因为 caption 已经承担说明）
* 如果必须要：短句（≤ 7 个词/≤ 12 个汉字），不重复 caption 的第一句

### 6.3 注释（Annotation）

* 推荐统一为：圆角浅灰底 + 细边框
* 箭头线宽：0.8–1.0 pt
* 强调区域（balanced zone、feasible region 等）：用**浅灰或浅蓝透明块**，透明度 0.08–0.15，别抢主数据的注意力

---

## 7) 不同类型图的“模板化规则”（按你文中常见图）

这里给你“同类图同模板”的最小规则集——一旦统一，全篇立刻像一个团队做的。

### 7.1 折线图模板（Fig.9/12/14 类）

* 主线：蓝
* 推荐点（DAWS recommended）：橙色点 + 黑色细描边（0.6 pt）
* 基线：灰虚线
* 若有不确定性：同色透明带（不要另加第二条曲线表示上下界）

### 7.2 热力图模板（Fig.4/6 类）

* 统一色带（建议顺序色带）
* colorbar 右侧，标签写清楚：**变量名 + 单位/解释**
* 如果要“圈选”重点：

  * 统一用**橙色细圆圈**或**黑色细矩形框**，线宽 1.2 pt
  * 圈选对象必须肉眼明显（你现在的“circled”不明显就容易扣分）

### 7.3 Lollipop 模板（Fig.8 类）

* 点：蓝；若强调某季/分界（例如 S28）：

  * 用浅灰竖向背景带（alpha 0.10）或一条竖虚线 + 文本标注
* 竖线：浅蓝/浅灰，线宽 1.0 pt
* 排序：如果不是时间序列，建议按值排序（阅读更快）

### 7.4 Pareto 散点/前沿线模板（Fig.13 左）

* 可行域：浅蓝透明填充（alpha 0.10）
* Pareto frontier：深蓝线
* 推荐点：橙色大点 + 星形标记（或反过来：橙星）
* 其它 α 区间点：蓝系渐变或统一蓝 + 不同 marker（避免太多颜色）

### 7.5 三元图模板（Fig.13 右）

* 只保留必要网格（细、浅灰）
* 中心“Balanced Zone”用浅灰/浅蓝透明区
* 方法点位：

  * 四类方法四种 marker（方/圆/三角/星），颜色尽量少（最多 2–3 色）
* 图例与 marker 对应关系必须一眼懂（不要靠读 caption 才知道）

### 7.6 SHAP/解释类图模板（Fig.10/11 类）

* 特征名统一缩写规则（例如 `celebrity_industry_*` → `Industry: *`）
* 发散色带强制以 0 为中心
* 若文字太密：

  * 主文只放 Top 10/15（你已经做了），其余放附录
  * 或改成 mean(|SHAP|) 条形图做主体，beeswarm 放附录（主体更“论文风”）

---

## 8) 导出与嵌入（避免“看着糊/字体乱/线条锯齿”）

* **线图/矢量图**：优先导出 **PDF/SVG**（LaTeX 嵌入最稳）
* **栅格图**（热力图/大量点）：至少 **300 dpi**；如果点很多建议 450 dpi
* **字体嵌入**：导出时嵌入字体（否则不同电脑打开会替换导致版面崩）
* **统一边距**：tight layout 但留出 caption 需要的呼吸感（避免贴边）

---

## 9) 给你一份可直接套用的 Matplotlib 样式（可选）

如果你主要用 Python/Matplotlib 画图，这段 rcParams 能一键统一（你可以按你最终选的字体微调）：

```python
import matplotlib as mpl

mpl.rcParams.update({
    # Figure
    "figure.dpi": 300,
    "savefig.dpi": 300,
    "figure.figsize": (6.4, 3.8),   # ≈ 1.68:1
    "savefig.bbox": "tight",
    "savefig.pad_inches": 0.02,

    # Fonts (choose one serif stack)
    "font.family": "serif",
    "font.serif": ["Times New Roman", "STIXGeneral", "DejaVu Serif"],
    "mathtext.fontset": "stix",

    # Sizes
    "axes.labelsize": 9.5,
    "axes.titlesize": 10,
    "xtick.labelsize": 8.8,
    "ytick.labelsize": 8.8,
    "legend.fontsize": 8.8,

    # Lines
    "lines.linewidth": 1.7,
    "lines.markersize": 4.5,

    # Axes & spines
    "axes.linewidth": 0.9,
    "axes.spines.top": False,
    "axes.spines.right": False,

    # Grid
    "axes.grid": True,
    "grid.linewidth": 0.5,
    "grid.alpha": 0.30,

    # Legend
    "legend.frameon": False,

    # Ticks
    "xtick.direction": "out",
    "ytick.direction": "out",
    "xtick.major.size": 3.5,
    "ytick.major.size": 3.5,
})
```

---

## 10) 执行清单（你团队内部“验收用”）

画完每张图，按下面 8 条逐条打钩，基本不会出排版事故：

* [ ] 字体是否与正文一致？最小字号 ≥ 8pt？
* [ ] 颜色语义是否符合约定（蓝=主结果，橙=推荐，灰=基线，红=风险）？
* [ ] 网格线是否够浅，不抢数据？
* [ ] 图例是否短且不遮挡关键区域？
* [ ] caption 描述的“圈选/阴影/红叉/高亮”图上是否清晰可见？
* [ ] 输出格式是否合适（线图矢量，热图/散点 300dpi+）？
* [ ] 同类图（折线/热力/散点）是否完全同模板？
* [ ] 论文中前后同一指标（例如 democratic deficit）坐标范围/小数位是否统一？

